import React, { useEffect, useRef, useState } from 'react';
import styles from './css/JourneyMap.module.css';
import { motion, useAnimation } from 'framer-motion';
import svgg from '../assets/image/Group 1000003918.svg';

const JourneyMap = () => {
		const svgRef = useRef(null);
		const controls = useAnimation();
		const [inRange, setInRange] = useState(false);
	  
		useEffect(() => {
		  const handleMouseMove = (e) => {
			if (!svgRef.current) return;
	  
			const rect = svgRef.current.getBoundingClientRect();
			const centerX = rect.left + rect.width / 2;
			const centerY = rect.top + rect.height / 2;
			const distance = Math.sqrt(
			  Math.pow(e.clientX - centerX, 2) + Math.pow(e.clientY - centerY, 2)
			);
	  
			if (distance < 300 && !inRange) {
			  setInRange(true);
			} else if (distance >= 300 && inRange) {
			  setInRange(false);
			}
		  };
	  
		  window.addEventListener('mousemove', handleMouseMove);
		  return () => window.removeEventListener('mousemove', handleMouseMove);
		}, [inRange]);
	  
		useEffect(() => {
		  if (inRange) {
			controls.start({
			  y: [0, -20, 0], // 위로 갔다 다시 내려옴
			  transition: {
				duration: 1.5,
				repeat: Infinity,
				ease: 'easeInOut',
			  }
			});
		  } else {
			controls.stop();
			controls.set({ y: 0 }); // 원래 위치로 복귀
		  }
		}, [inRange, controls]);
	  
  	return (
    		<div className={styles.journeyMap}>
      			<div className={styles.journeyMapChild} />
      			<div className={styles.journeyMapItem} />
      			<div className={styles.customerJourneyMap}>Customer Journey Map</div>
      			<b className={styles.b}>
        				<span>{`고객의 `}</span>
        				<span className={styles.span}>불편함</span>
        				<span>을 적극적으로 이해하기</span>
      			</b>
      			<div className={styles.neechJourney}>유저들이 어플을 사용하는 과정에서 느끼는 불편함과 Neech를 중점으로 Journey Map을 작성했습니다</div>
      			<div className={styles.journeyMapInner} />
      			<div className={styles.div}>
        				<p className={styles.p}>
          					<span className={styles.span}>추천 알고리즘 개선</span>
          					<span>으로</span>
        				</p>
        				<p className={styles.p}>개인화된 상품을 첫 화면에서</p>
        				<p className={styles.p}>바로 확인</p>
      			</div>
      			<div className={styles.uiUx}>
        				<p className={styles.p}>실시간 가격 변동 정보를 제공하며</p>
        				<p className={styles.p}>찜한 상품과 장바구니 상품을</p>
        				<p className={styles.p}>한 화면에서 비교 가능하도록</p>
        				<p className={styles.p}>UI /UX개선</p>
      			</div>
      			<div className={styles.div1}>
        				<p className={styles.p}>{`비슷한 체형 유저 리뷰 및 `}</p>
        				<p className={styles.p}>
          					<span className={styles.span}>추천 사이즈 정보를 제공</span>
          					<span>{`하며 `}</span>
        				</p>
        				<p className={styles.p}>개인 옷장기능을 활용하여</p>
        				<p className={styles.p}>상품 핏을 미리 확인 가능</p>
      			</div>
      			<div className={styles.parent}>
        				<div className={styles.div2}>제품 탐색 및 관심</div>
        				<div className={styles.div3}>상품 상세 조회</div>
        				<div className={styles.div4}>장바구니 및 찜하기</div>
        				<div className={styles.div5}>구매 및 배송</div>
        				<div className={styles.div6}>구매 후 재방문</div>
        				<div className={styles.groupChild} />
        				<div className={styles.groupItem} />
        				<div className={styles.groupInner} />
        				<div className={styles.rectangleDiv} />
        				<div className={styles.groupChild1} />
        				<div className={styles.groupChild2} />
        				<div className={styles.rectangleParent}>
          					<div className={styles.frameChild} />
          					<div className={styles.frameItem} />
          					<div className={styles.frameInner} />
          					<div className={styles.frameChild1} />
          					<div className={styles.frameChild2} />
          					<div className={styles.frameChild3} />
          					<div className={styles.div7}>
            						<p className={styles.p}>앱 실행 후 홈 피드/검색을</p>
            						<p className={styles.p}>이용해 원하는 상품 탐색</p>
          					</div>
          					<div className={styles.div8}>
            						<p className={styles.p}>관심 있는 상품을 클릭해</p>
            						<p className={styles.p}>상품 상세페이지 확인</p>
          					</div>
          					<div className={styles.div9}>
            						<p className={styles.p}>장바구니 담기 후</p>
            						<p className={styles.p}>결제 고민</p>
          					</div>
          					<div className={styles.div10}>
            						<p className={styles.p}>결제 완료 후</p>
            						<p className={styles.p}>상품 배송 대기</p>
          					</div>
          					<div className={styles.div11}>
            						<p className={styles.p}>구매 후 앱 재방문,</p>
            						<p className={styles.p}>추가 구매 고려</p>
          					</div>
        				</div>
        				<div className={styles.rectangleGroup}>
          					<div className={styles.frameChild4} />
          					<div className={styles.frameChild5} />
          					<div className={styles.frameChild6} />
          					<div className={styles.frameChild7} />
          					<div className={styles.frameChild8} />
          					<div className={styles.frameChild9} />
          					<div className={styles.div12}>
            						<p className={styles.p}>배송 상태가 변경될 때 즉각적인</p>
            						<p className={styles.p}>알림 제공, 배송 위치·단계</p>
            						<p className={styles.p}>표시 강화</p>
          					</div>
          					<div className={styles.aiContainer}>
            						<p className={styles.p}>
              							<span className={styles.span}>AI가 구매 이력을 반영</span>
              							<span>{`해 `}</span>
            						</p>
            						<p className={styles.p}>{`"너에게 딱 맞는 스타일" 푸시 알림, `}</p>
            						<p className={styles.p}>개인 맞춤형 스타일링 콘텐츠 제공</p>
          					</div>
        				</div>
        				<div className={styles.rectangleContainer}>
          					<div className={styles.frameChild} />
          					<div className={styles.frameChild11} />
          					<div className={styles.frameItem} />
          					<div className={styles.frameInner} />
          					<div className={styles.frameChild1} />
          					<div className={styles.frameChild2} />
          					<div className={styles.frameChild3} />
          					<div className={styles.frameChild17} />
          					<div className={styles.frameChild18} />
          					<div className={styles.frameChild19} />
        				</div>
        				<div className={styles.frameDiv}>
          					<div className={styles.frameChild} />
          					<div className={styles.frameChild11} />
          					<div className={styles.frameItem} />
          					<div className={styles.frameInner} />
          					<div className={styles.frameChild1} />
          					<div className={styles.frameChild2} />
          					<div className={styles.frameChild3} />
          					<div className={styles.frameChild17} />
          					<div className={styles.frameChild18} />
          					<div className={styles.frameChild19} />
          					<div className={styles.div13}>
            						<p className={styles.p}>실제 사이즈가 애매하고,</p>
            						<p className={styles.p}>모델 착용샷만 있어서</p>
            						<p className={styles.p27}>실제 핏 예측 어려움</p>
          					</div>
          					<div className={styles.div14}>
            						<p className={styles.p27}>실시간 가격 변동 정보가 부족</p>
            						<p className={styles.p}>{`하고, 찜한 상품과 장바구니 `}</p>
            						<p className={styles.p}>상품을 한 눈에 파악하기 어려움</p>
          					</div>
        				</div>
        				<div className={styles.div15}>
          					<p className={styles.p}>원하는 상품을 찾으려 검색과</p>
          					<p className={styles.p}>
            						<span>{`카테고리 `}</span>
            						<span className={styles.span}>탐색에 시간을 낭비</span>
          					</p>
        				</div>
        				<div className={styles.div16}>
          					<p className={styles.p}>배송 상태 업데이트가 느려</p>
          					<p className={styles.p}>불안감 증가</p>
        				</div>
        				<div className={styles.div17}>
          					<p className={styles.p}>재방문 유도 요소 부족,</p>
          					<p className={styles.p}>개인화 요소가 부족하여</p>
          					<p className={styles.p}>앱을 자주 찾지 않게 됨</p>
        				</div>
        				<div className={styles.journey}>Journey</div>
        				<div className={styles.action}>Action</div>
        				<div className={styles.emotion}>Emotion</div>
        				<div className={styles.solution}>Solution</div>
        				<div className={styles.painPoint}>{`Pain Point `}</div>
      			</div>
				  <motion.img
						className={styles.groupIcon}
						alt=""
						src={svgg}
						initial={{ y: 0 }}
						animate={{ y: [0, -20, 0] }} // 위로 갔다 다시 내려옴
						transition={{
							duration: 1.5,
							repeat: Infinity,
							ease: 'easeInOut',
						}}
					/>
						<div className={styles.group}>
        				<div className={styles.div18}>만족</div>
        				<div className={styles.div19}>😍</div>
      			</div>
      			<div className={styles.container}>
        				<div className={styles.div18}>보통</div>
        				<div className={styles.div19}>😮</div>
      			</div>
      			<div className={styles.groupDiv}>
        				<div className={styles.div18}>불만</div>
        				<div className={styles.div19}>😱</div>
      			</div>
    		</div>);
};

export default JourneyMap;
